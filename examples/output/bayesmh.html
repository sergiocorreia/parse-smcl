<!DOCTYPE html>
<html>
<head>
<title>Stata help for bayesmh</title>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
<link href="css/smcl.css" type="text/css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Merriweather:900,400,400italic" type="text/css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:600,600italic" type="text/css" rel="stylesheet">
</head>
<body><div class="smcl" version="1.0.8  23oct2015">
<h1>Help for bayesmh</h1>
<nav id="table-of-contents" class="smcl-nav"><ul>
<li class="description">Jump to:</li>
<li class="link"><a href="#syntax">Syntax</a></li>
<li class="link"><a href="#menu">Menu</a></li>
<li class="link"><a href="#description">Description</a></li>
<li class="link"><a href="#options">Options</a></li>
<li class="link"><a href="#remarks">Remarks</a></li>
<li class="link"><a href="#examples">Examples</a></li>
<li class="link"><a href="#results">Stored results</a></li>
</ul></nav><nav id="related-content" class="smcl-nav"><ul>
<li class="description">Also see:</li>
<li class="link"><a href="http://www.stata.com/manuals14/bayesbayesmh.pdf">[BAYES] bayesmh</a></li>
<li class="link"><a href="http://www.stata.com/manuals14/bayesintro.pdf">[BAYES] intro</a></li>
<li class="link"><a href="http://www.stata.com/help.cgi?bayesmh%20postestimation">[BAYES] bayesmh postestimation</a></li>
<li class="link"><a href="http://www.stata.com/help.cgi?bayesmh%20evaluators">[BAYES] bayesmh evaluators</a></li>
<li class="link"><a href="http://www.stata.com/help.cgi?bayes">[BAYES] bayes</a></li>
<li class="link"><a href="http://www.stata.com/help.cgi?bayes_glossary">[BAYES] Glossary</a></li>
</ul></nav><h2 margin_bottom="1">Title</h2>
<table class="standard"><tr>
<td>
<a href="http://www.stata.com/manuals14/bayesbayesmh.pdf"><b>[BAYES] bayesmh</b></a> <span>&#8212;</span>
</td>
<td>Bayesian regression using Metropolis-Hastings algorithm  </td>
</tr></table>
<h2 margin_bottom="1" id="syntax">Syntax</h2>
<p class="hang"><b>Univariate linear models</b> </p>
<p class="8-16-2-0"><code options="bayesmh" class="command">bayesmh</code> <var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar</b></a></var> [<a class="command" href="http://www.stata.com/help.cgi?indepvars">indepvars</a>] <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> <code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(</code><var class="command"><a class="command" href="#modelspec"><b>modelspec</b></a></var><code class="command">)</code> <code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<code options="re" class="command"><u>re</u>ffects(<var><a href="http://www.stata.com/help.cgi?varname">varname</a></var>)</code> <var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>
<p class="hang"><b>Multivariate linear models</b> </p>
<p class="6-11-2-0">Multivariate normal linear regression with common regressors </p>
<p class="8-16-2-0"><code options="bayesmh" class="command">bayesmh</code> <var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvars</b></a></var> <code class="command">=</code> [<a class="command" href="http://www.stata.com/help.cgi?indepvars">indepvars</a>] <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> <code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(mvnormal(</code>...<code class="command">))</code> <code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>
<p class="6-11-2-0">Multivariate normal regression with outcome-specific regressors </p>
<p class="8-11-2-0"><code options="bayesmh" class="command">bayesmh</code> <code class="command">(</code>[<var class="command">eqname1</var><code class="command">:</code>]<var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar1</b></a></var> [<var class="command"><a class="command" href="http://www.stata.com/help.cgi?indepvars"><b>indepvars1</b></a></var>]<code class="command">)</code> </p>
<p class="16-16-0-0"><code class="command">(</code>[<var class="command">eqname2</var><code class="command">:</code>]<var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar2</b></a></var> [<var class="command"><a class="command" href="http://www.stata.com/help.cgi?indepvars"><b>indepvars2</b></a></var>]<code class="command">)</code>    [...] <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> </p>
<p class="16-16-0-0"><code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(mvnormal(</code>...<code class="command">))</code> <code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>
<p class="hang"><b>Multiple-equation linear models</b> </p>
<p class="8-11-2-0"><code options="bayesmh" class="command">bayesmh</code> <code class="command">(</code><var class="command"><a class="command" href="#eqspec"><b>eqspec</b></a></var><code class="command">)</code>    [<code class="command">(</code><var class="command"><a class="command" href="#eqspec"><b>eqspec</b></a></var><code class="command">)</code>]    [...] <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> </p>
<p class="16-16-0-0"><code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>
<p class="hang"><b>Nonlinear models</b> </p>
<p class="6-11-2-0">Univariate nonlinear regression </p>
<p class="8-11-2-0"><code options="bayesmh" class="command">bayesmh</code> <var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar</b></a></var> <code class="command">=</code> <code class="command">(</code><var class="command"><a class="command" href="#subexpr"><b>subexpr</b></a></var><code class="command">)</code> <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> </p>
<p class="16-11-0-0"><code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(</code><var class="command"><a class="command" href="#modelspec"><b>modelspec</b></a></var><code class="command">)</code> <code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>
<p class="6-11-2-0">Multivariate normal nonlinear regression </p>
<p class="8-11-2-0"><code options="bayesmh" class="command">bayesmh</code> <code class="command">(</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar1</b></a></var> <code class="command">=</code> <code class="command">(</code><var class="command"><a class="command" href="#subexpr"><b>subexpr1</b></a></var><code class="command">))</code> </p>
<p class="16-11-0-0"><code class="command">(</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar2</b></a></var> <code class="command">=</code> <code class="command">(</code><var class="command"><a class="command" href="#subexpr"><b>subexpr2</b></a></var><code class="command">))</code>    [...] <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span>    [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> </p>
<p class="16-11-0-0"><code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(mvnormal(</code>...<code class="command">))</code> <code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>    [<var class="command"><a class="command" href="#options_table"><b>options</b></a></var>] </p>

<p class="std" id="eqspec">The syntax of <var class="command">eqspec</var> is </p>
<p class="hang2"><var class="command"><a class="command" href="#varspec"><b>varspec</b></a></var> <span class="command">[<var><a href="http://www.stata.com/help.cgi?if">if</a></var>] [<var><a href="http://www.stata.com/help.cgi?in">in</a></var>]</span> [<var class="command"><a class="command" href="#weight"><b>weight</b></a></var>]<code class="command">,</code> <code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(</code><var class="command"><a class="command" href="#modelspec"><b>modelspec</b></a></var><code class="command">)</code>    [<code options="nocons" class="command"><u>nocons</u>tant</code>] </p>
<p class="hang2" id="varspec">The syntax of <var class="command">varspec</var> is one of the following: </p>            for single outcome
<p class="16-18-2-0">[<var class="command">eqname</var><code class="command">:</code>]<var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar</b></a></var> [<a class="command" href="http://www.stata.com/help.cgi?indepvars">indepvars</a>] </p>
            for multiple outcomes with common regressors

<p class="16-18-2-0"><var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvars</b></a></var> <code class="command">=</code> [<a class="command" href="http://www.stata.com/help.cgi?indepvars">indepvars</a>] </p>
            for multiple outcomes with outcome-specific regressors

<p class="16-18-2-0"><code class="command">(</code>[<var class="command">eqname1</var><code class="command">:</code>]<var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar1</b></a></var> [<var class="command"><a class="command" href="http://www.stata.com/help.cgi?indepvars"><b>indepvars1</b></a></var>]<code class="command">)</code> <code class="command">(</code>[<var class="command">eqname2</var><code class="command">:</code>]<var class="command"><a class="command" href="http://www.stata.com/help.cgi?depvar"><b>depvar2</b></a></var> [<var class="command"><a class="command" href="http://www.stata.com/help.cgi?indepvars"><b>indepvars2</b></a></var>]<code class="command">)</code> [...] </p>
<p class="std" id="subexpr"><var class="command">subexpr</var>, <var class="command">subexpr1</var>, <var class="command">subexpr2</var>, and so on are substitutable expressions; see <a class="command" href="#subexp"><var class="command">Substitutable expressions</var><b></b></a> for details. </p>
<p class="hang" id="modelspec">The syntax of <var class="command">modelspec</var> is </p>
<p class="16-18-2-0"><var class="command"><a class="command" href="#modelspec"><b>model</b></a></var> [<code class="command">,</code> <var class="command"><a class="command" href="#modelopts"><b>modelopts</b></a></var>] </p>
<table class="syntab" id="model">
<thead><tr>
<td colspan="2">model</td>
<td>Description</td>
</tr></thead>  <tbody>
<tr class="section"><td colspan="3">Continuous</td></tr>
<tr>
<td class="normal"></td>
<td><code options="norm" class="command"><u>norm</u>al(<var>var</var>)</code></td>
<td>normal regression with variance <var class="command">var</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="lognorm" class="command"><u>lognorm</u>al(<var>var</var>)</code></td>
<td>lognormal regression with variance <var class="command">var</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="lnorm" class="command"><u>lnorm</u>al(<var>var</var>)</code></td>
<td>synonym for <code class="command">lognormal()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="exp" class="command"><u>exp</u>onential</code></td>
<td>exponential regression</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="mvn" class="command"><u>mvn</u>ormal(<var>Sigma</var>)</code></td>
<td>multivariate normal regression with covariance matrix <var class="command">Sigma</var>
</td>
</tr>
</tbody>      <tbody>
<tr class="section"><td colspan="3">Discrete</td></tr>
<tr>
<td class="normal"></td>
<td><code options="probit" class="command">probit</code></td>
<td>probit regression</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="logit" class="command">logit</code></td>
<td>logistic regression</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="logis" class="command"><u>logis</u>tic</code></td>
<td>logistic regression; synonym for <code class="command">logit</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="binlogit(n)" class="command">binlogit(<var>n</var>)</code></td>
<td>binomial regression with logit link</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="oprobit" class="command">oprobit</code></td>
<td>ordered probit regression</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="ologit" class="command">ologit</code></td>
<td>ordered logistic regression</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="pois" class="command"><u>pois</u>son</code></td>
<td>Poisson regression</td>
</tr>
</tbody>        <tbody>
<tr class="section"><td colspan="3">Generic</td></tr>
<tr>
<td class="normal"></td>
<td><code options="llf(subexpr)" class="command">llf(<var>subexpr</var>)</code></td>
<td>substitutable expression for observation-level log-likelihood function</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="exp" class="command"><u>exp</u>osure(<var><a href="http://www.stata.com/help.cgi?varname">varname_e</a></var>)</code></td>
<td>include ln(<var class="command">varname_e</var>) in model with coefficient constrained to 1; allowed only with <code class="command">poisson</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="noglmtr" class="command"><u>noglmtr</u>ansform</code></td>
<td>do not apply GLM-type transformation to the linear predictor or nonlinear specification; allowed only with <code class="command">exponential</code>, <code class="command">poisson</code>, or <code class="command">binlogit()</code>
</td>
</tr>
</tbody>         <tfoot><tr class="footnote"><td colspan="3"> A distribution argument is a number for scalar arguments such as <var class="command">var</var>; a variable name, <a class="command" href="http://www.stata.com/help.cgi?varname">varname</a> (except for matrix arguments); a matrix for matrix arguments such as <var class="command">Sigma</var>; a model parameter <var class="command"><a class="command" href="#paramspec"><b>paramspec</b></a></var>; an expression <var class="command"><a class="command" href="http://www.stata.com/help.cgi?exp"><b>expr</b></a></var>; or a substitutable expression, <var class="command"><a class="command" href="#subexpr"><b>subexpr</b></a></var>. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesspecifyingargumentsoflikelihoodmodelsandpriordistributions.pdf">BAYES bayesmhRemarksandexamplesSpecifyingargumentsoflikelihoodmodelsandpriordistributions<var class="command">Specifying arguments of likelihood models and prior distributions</var></a>.  <span options="22">{synoptset 22}</span><span>{nobreak None}</span> <span options="modelopts">{marker modelopts}</span><span>{nobreak None}</span> <span>{synopthdr None:modelopts}</span> <span>{synoptline None}</span> <span>{synopt None}<code options="off" class="command"><u>off</u>set(<var><a href="http://www.stata.com/help.cgi?varname">varname_o</a></var>)</code></span>include <var class="command">varname_o</var> in model with coefficient constrained to 1; not allowed with <code class="command">normal()</code> and <code class="command">mvnormal()</code>
</td></tr></tfoot>
</table>
<p class="hang" id="priorspec">The syntax of <var class="command">priorspec</var> is </p>
<p class="8-11-2-0"><var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var><code class="command">,</code> <var class="command"><a class="command" href="#priordist"><b>priordist</b></a></var> </p>
<p class="hang" id="paramref">where the simplest specification of <var class="command">paramref</var> is </p>
<p class="8-11-2-0"><var class="command"><a class="command" href="#paramspec"><b>paramspec</b></a></var> [<var class="command">paramspec</var>] [...]] </p>
<p class="hang">Also see <a class="command" href="#refer"><var class="command">Referring to model parameters</var><b></b></a> for other specifications. </p>
<p class="hang" id="paramspec">The syntax of <var class="command">paramspec</var> is </p>
<p class="8-11-2-0"><code class="command"><span options="-(">{c -(}</span></code>[<var class="command">eqname</var><code class="command">:</code>]<var class="command">param</var>[, <code options="m" class="command"><u>m</u>atrix</code>]<code class="command"><span options=")-">{c )-}</span></code> </p>
<p class="hang">where the parameter label <var class="command">eqname</var> and parameter name <var class="command">param</var> are valid Stata names. Model parameters are either scalars such as <code class="command"><span options="-(">{c -(}</span></code><code class="command">var</code><code class="command"><span options=")-">{c )-}</span></code>, <code class="command"><span options="-(">{c -(}</span></code><code class="command">mean</code><code class="command"><span options=")-">{c )-}</span></code>, <code class="command"><span options="-(">{c -(}</span></code><code class="command">scale:beta</code><code class="command"><span options=")-">{c )-}</span></code>, or matrices such as <code class="command"><span options="-(">{c -(}</span></code><code class="command">Sigma, matrix</code><code class="command"><span options=")-">{c )-}</span></code> and <code class="command"><span options="-(">{c -(}</span></code><code class="command">Scale:V, matrix</code><code class="command"><span options=")-">{c )-}</span></code>.  For scalar parameters, you can use <var class="command">param</var><code class="command">=</code><var class="command">#</var> to specify an initial value.  For example, you can specify, <code class="command"><span options="-(">{c -(}</span></code><code class="command">var=1</code><code class="command"><span options=")-">{c )-}</span></code>, <code class="command"><span options="-(">{c -(}</span>mean=1.267<span options=")-">{c )-}</span></code>, or <code class="command"> <span options="-(">{c -(}</span>shape:alpha=3<span options=")-">{c )-}</span></code>. </p>
<table class="syntab" id="priordist">
<thead><tr>
<td colspan="2">priordist</td>
<td>Description</td>
</tr></thead>  <tbody>
<tr class="section"><td colspan="3">Univariate continuous</td></tr>
<tr>
<td class="normal"></td>
<td><code options="norm" class="command"><u>norm</u>al(<var>mu</var>,<var>var</var>)</code></td>
<td>normal with mean <var class="command">mu</var> and variance <var class="command">var</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="lognorm" class="command"><u>lognorm</u>al(<var>mu</var>,<var>var</var>)</code></td>
<td>lognormal with mean <var class="command">mu</var> and variance <var class="command">var</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="lnorm" class="command"><u>lnorm</u>al(<var>mu</var>,<var>var</var>)</code></td>
<td>synonym for <code class="command">lognormal()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="unif" class="command"><u>unif</u>orm(<var>a</var>,<var>b</var>)</code></td>
<td>uniform on (a,b)</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="gamma(alpha,beta)" class="command">gamma(<var>alpha</var>,<var>beta</var>)</code></td>
<td>gamma with shape <var class="command">alpha</var> and scale <var class="command">beta</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="igamma(alpha,beta)" class="command">igamma(<var>alpha</var>,<var>beta</var>)</code></td>
<td>inverse gamma with shape <var class="command">alpha</var> and scale <var class="command">beta</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="exp" class="command"><u>exp</u>onential(<var>beta</var>)</code></td>
<td>exponential with scale <var class="command">beta</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="beta(a,b)" class="command">beta(<var>a</var>,<var>b</var>)</code></td>
<td>beta with shape parameters <var class="command">a</var> and <var class="command">b</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="chi2(df)" class="command">chi2(<var>df</var>)</code></td>
<td>central chi-squared with degrees of freedom <var class="command">df</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="jeff" class="command"><u>jeff</u>reys</code></td>
<td>Jeffreys prior for variance of a normal distribution</td>
</tr>
</tbody>           <tbody>
<tr class="section"><td colspan="3">Multivariate continuous</td></tr>
<tr>
<td class="normal"></td>
<td><code options="mvn" class="command"><u>mvn</u>ormal(<var>d</var>,<var>mean</var>,<var>Sigma</var>)</code></td>
<td>multivariate normal of dimension <var class="command">d</var> with mean vector <var class="command">mean</var> and covariance matrix <var class="command">Sigma</var>; <var class="command">mean</var> can be a matrix name or a list of <var class="command">d</var> means separated by comma: <var class="command">mu1</var><code class="command">,</code> <var class="command">mu2</var><code class="command">,</code> ...<code class="command">,</code> <var class="command">mud</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="mvnormal0(d,Sigma)" class="command">mvnormal0(<var>d</var>,<var>Sigma</var>)</code></td>
<td>multivariate normal of dimension <var class="command">d</var> with zero mean vector and covariance matrix <var class="command">Sigma</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="mvn0(d,Sigma)" class="command">mvn0(<var>d</var>,<var>Sigma</var>)</code></td>
<td>synonym for <code class="command">mvnormal0()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">zellnersg(</code><var class="command">d</var><code class="command">,</code><var class="command">g</var><code class="command">,</code><var class="command">mean</var><code class="command">,<span options="-(">{c -(}</span></code><var class="command">var</var><code class="command"><span options=")-">{c )-}</span>)</code>
</td>
<td>Zellner's g-prior of dimension <var class="command">d</var> with <var class="command">g</var> degrees of freedom, mean vector <var class="command">mean</var>, and variance parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">var</var><code class="command"><span options=")-">{c )-}</span></code>; <var class="command">mean</var> can be a matrix name or a list of <var class="command">d</var> means separated by comma: <var class="command">mu1</var><code class="command">,</code> <var class="command">mu2</var><code class="command">,</code> ...<code class="command">,</code> <var class="command">mud</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">zellnersg0(</code><var class="command">d</var><code class="command">,</code><var class="command">g</var><code class="command">,<span options="-(">{c -(}</span></code><var class="command">var</var><code class="command"><span options=")-">{c )-}</span>)</code>
</td>
<td>Zellner's g-prior of dimension <var class="command">d</var> with <var class="command">g</var> degrees of freedom, zero mean vector, and variance parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">var</var><code class="command"><span options=")-">{c )-}</span></code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="wish" class="command"><u>wish</u>art(<var>d</var>,<var>df</var>,<var>V</var>)</code></td>
<td>Wishart of dimension <var class="command">d</var> with degrees of freedom <var class="command">df</var> and scale matrix <var class="command">V</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="iwish" class="command"><u>iwish</u>art(<var>d</var>,<var>df</var>,<var>V</var>)</code></td>
<td>inverse Wishart of dimension <var class="command">d</var> with degrees of freedom <var class="command">df</var> and scale matrix <var class="command">V</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="jeff" class="command"><u>jeff</u>reys(<var>d</var>)</code></td>
<td>Jeffreys prior for covariance of a multivariate normal distribution of dimension <var class="command">d</var>
</td>
</tr>
</tbody>         <tbody>
<tr class="section"><td colspan="3"> Discrete</td></tr>
<tr>
<td class="normal"></td>
<td><code options="bern" class="command"><u>bern</u>oulli(<var>p</var>)</code></td>
<td>Bernoulli with success probability <var class="command">p</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="index(p1,...,pk)" class="command">index(<var>p1</var>,<var>...</var>,<var>pk</var>)</code></td>
<td>discrete indices 1, 2, ..., <var class="command">k</var> with probabilities <var class="command">p1</var>, <var class="command">p2</var>, ..., <var class="command">pk</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="pois" class="command"><u>pois</u>son(<var>mu</var>)</code></td>
<td>Poisson with mean <var class="command">mu</var>
</td>
</tr>
</tbody>    </table>
<table class="syntab" id="modelspec_table">
<tbody>
<tr class="section"><td colspan="3">Generic</td></tr>
<tr>
<td class="normal"></td>
<td><code options="flat" class="command">flat</code></td>
<td>flat prior; equivalent to <code class="command">density(1)</code> or <code class="command">logdensity(0)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="dens" class="command"><u>dens</u>ity</code><code class="command">(</code><var class="command"><a class="command" href="#generic_f"><b>f</b></a></var><code class="command">)</code>
</td>
<td>generic density <var class="command">f</var>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="logdens" class="command"><u>logdens</u>ity</code><code class="command">(</code><var class="command"><a class="command" href="#generic_logf"><b>logf</b></a></var><code class="command">)</code>
</td>
<td>generic logdensity <var class="command">logf</var>
</td>
</tr>
</tbody>           <tfoot>
<tr class="footnote"><td colspan="3"> Dimension <var class="command">d</var> is a positive <var class="command">#</var>.</td></tr>
<tr class="footnote"><td colspan="3"> A distribution argument is a number for scalar arguments such as <var class="command">var</var>, <var class="command">alpha</var>, <var class="command">beta</var>; a Stata matrix for matrix arguments such as <var class="command">Sigma</var> and <var class="command">V</var>; a model parameter, <var class="command"><a class="command" href="#paramspec"><b>paramspec</b></a></var>; an expression, <var class="command"><a class="command" href="http://www.stata.com/help.cgi?exp"><b>expr</b></a></var>; or a substitutable expression <var class="command"><a class="command" href="#subexpr"><b>subexpr</b></a></var>.</td></tr>
<tr class="footnote"><td colspan="3"> <span options="generic_f">{marker generic_f}</span> <var class="command">f</var> is a nonnegative number, <var class="command">#</var>; an expression <var class="command"><a class="command" href="http://www.stata.com/help.cgi?exp"><b>expr</b></a></var>; or a substitutable expression, <var class="command"><a class="command" href="#subexpr"><b>subexpr</b></a></var>.</td></tr>
<tr class="footnote"><td colspan="3"> <span options="generic_logf">{marker generic_logf}</span> <var class="command">logf</var> is a number, <var class="command">#</var>; an expression, <var class="command"><a class="command" href="http://www.stata.com/help.cgi?exp"><b>expr</b></a></var>; or a substitutable expression, <var class="command"><a class="command" href="#subexpr"><b>subexpr</b></a></var>.</td></tr>
<tr class="footnote"><td colspan="3"> When <code class="command">mvnormal()</code> or <code class="command">mvnormal0()</code> of dimension <var class="command">d</var> is applied to <var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var> with <var class="command">n</var> parameters (<var class="command">n</var>!=<var class="command">d</var>), <var class="command">paramref</var> is reshaped into a matrix with <var class="command">d</var> columns, and its rows are treated as independent samples from the specified <code class="command">mvnormal()</code> distribution. If such reshaping is not possible, an error is issued. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesex25.pdf">example 25</a> for application of this feature.</td></tr>
</tfoot>
</table>
<table class="syntab" id="options_table">
<thead><tr>
<td colspan="2">Options</td>
<td>Description</td>
</tr></thead>  <tbody>
<tr class="section"><td colspan="3">Model</td></tr>
<tr>
<td class="normal"></td>
<td><code options="nocons" class="command"><u>nocons</u>tant</code></td>
<td>suppress constant term; not allowed with ordered and nonlinear models</td>
</tr>
<tr style="has_footnote">
<td>*</td>
<td><code options="likel" class="command"><u>likel</u>ihood</code><code class="command">(</code><var class="command"><a class="command" href="#modelspec"><b>modelspec</b></a></var><code class="command">)</code>
</td>
<td>distribution for the likelihood model</td>
</tr>
<tr style="has_footnote">
<td>*</td>
<td><code options="prior" class="command">prior</code><code class="command">(</code><var class="command"><a class="command" href="#priorspec"><b>priorspec</b></a></var><code class="command">)</code>
</td>
<td>prior for model parameters; this option may be repeated</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="dryrun" class="command">dryrun</code></td>
<td>show model summary without estimation</td>
</tr>
</tbody>     <tbody>
<tr class="section"><td colspan="3">Model 2</td></tr>
<tr>
<td class="normal"></td>
<td>
<code options="redef" class="command"><u>redef</u>ine</code><code class="command">(</code><var class="command">label</var><code class="command">:i.</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?varname"><b>varname</b></a></var><code class="command">)</code>
</td>
<td>specify a random-effects linear form</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="xbdef" class="command"><u>xbdef</u>ine</code><code class="command">(</code><var class="command">label</var><code class="command">:</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?varlist"><b>varlist</b></a></var><code class="command">)</code>
</td>
<td>specify a linear form</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="block" class="command">block</code><code class="command">(</code><var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var>[<code class="command">,</code> <var class="command"><a class="command" href="#blockopts"><b>blockopts</b></a></var>]<code class="command">)</code>
</td>
<td>specify a block of model parameters; this option may be repeated</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="init" class="command"><u>init</u>ial</code><code class="command">(</code><var class="command"><a class="command" href="#initspec"><b>initspec</b></a></var><code class="command">)</code>
</td>
<td>initial values for model parameters </td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="nomleinit" class="command"><u>nomleinit</u>ial</code></td>
<td>suppress the use of maximum likelihood estimates as starting values</td>
</tr>
</tbody>      <tbody>
<tr class="section"><td colspan="3">Simulation</td></tr>
<tr>
<td class="normal"></td>
<td><code options="mcmcs" class="command"><u>mcmcs</u>ize(<var>#</var>)</code></td>
<td>MCMC sample size; default is <code class="command">mcmcsize(10000)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="burn" class="command"><u>burn</u>in(<var>#</var>)</code></td>
<td>burn-in period; default is <code class="command">burnin(2500)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="thin" class="command"><u>thin</u>ning(<var>#</var>)</code></td>
<td>thinning interval; default is <code class="command">thinning(1)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="rseed(#)" class="command">rseed(<var>#</var>)</code></td>
<td>random-number seed</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code options="excl" class="command"><u>excl</u>ude</code><code class="command">(</code><var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var><code class="command">)</code>
</td>
<td>specify model parameters to be excluded from the simulation results</td>
</tr>
</tbody>      <tbody>
<tr class="section"><td colspan="3"> Adaption</td></tr>
<tr>
<td class="normal"></td>
<td>
<code options="adapt" class="command"><u>adapt</u>ation</code><code class="command">(</code><var class="command"><a class="command" href="#adaptopts"><b>adaptopts</b></a></var><code class="command">)</code>
</td>
<td>control the adaptive MCMC procedure</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="sc" class="command"><u>sc</u>ale(<var>#</var>)</code></td>
<td>initial multiplier for scale factor; default is <code class="command">scale(2.38)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="cov" class="command"><u>cov</u>ariance(<var>cov</var>)</code></td>
<td>initial proposal covariance; default is the identity matrix</td>
</tr>
</tbody>    <tbody>
<tr class="section"><td colspan="3">Reporting</td></tr>
<tr>
<td class="normal"></td>
<td><code options="clev" class="command"><u>clev</u>el(<var>#</var>)</code></td>
<td>set credible interval level; default is <code class="command">clevel(95)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="hpd" class="command">hpd</code></td>
<td>display HPD credible intervals instead of the default equal-tailed credible intervals</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="batch(#)" class="command">batch(<var>#</var>)</code></td>
<td>specify length of block for batch-mean calculations; default is <code class="command">batch(0)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="nomodelsumm" class="command"><u>nomodelsumm</u>ary</code></td>
<td>suppress model summary</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="noexpr" class="command"><u>noexpr</u>ession</code></td>
<td>suppress output of expressions from model summary</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="blocksumm" class="command"><u>blocksumm</u>ary</code></td>
<td>display block summary</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="dot" class="command">dot</code></td>
<td>display dots every 100 iterations and iteration numbers every 1,000 iterations</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">dots(</code><var class="command">#</var>[<code class="command">,</code> <code options="every(#)" class="command">every(<var>#</var>)</code>]<code class="command">)</code>
</td>
<td>display dots as simulation is performed</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="noshow" class="command"><u>noshow</u>(<var><a href="#paramref">paramref</a></var>)</code></td>
<td>specify model parameters to be excluded from the output</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="showre" class="command"><u>showre</u>ffects(<var><a href="#paramref">paramref</a></var>)</code></td>
<td>specify random-effects parameters to be included in the output</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="notab" class="command"><u>notab</u>le</code></td>
<td>suppress estimation table</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="nohead" class="command"><u>nohead</u>er</code></td>
<td>suppress output header</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="title(string)" class="command">title(<var>string</var>)</code></td>
<td>display <var class="command">string</var> as title above the table of parameter estimates</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command"><u>sav</u>ing(</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?filename"><b>filename</b></a></var>[<b>, replace</b>]<b>)</b>
</td>
<td>save simulation results to <var class="command">filename</var><code class="command">.dta</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><var class="command"><a class="command" href="#display_options"><b>display_options</b></a></var></td>
<td>control spacing, line width, and base and empty cells</td>
</tr>
</tbody>                <tbody>
<tr class="section"><td colspan="3"> Advanced</td></tr>
<tr>
<td class="normal"></td>
<td>
<code options="search" class="command">search</code><code class="command">(</code><var class="command"><a class="command" href="#search_options"><b>search_options</b></a></var><code class="command">)</code>
</td>
<td>control the search for feasible initial values</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="corrlag(#)" class="command">corrlag(<var>#</var>)</code></td>
<td>specify maximum autocorrelation lag; default varies</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="corrtol(#)" class="command">corrtol(<var>#</var>)</code></td>
<td>specify autocorrelation tolerance; default is <code class="command">corrtol(0.01)</code>
</td>
</tr>
</tbody>               <tfoot>
<tr class="footnote"><td colspan="3">* Options <code class="command">likelihood()</code> and <code class="command">prior()</code> are required. <code class="command">prior()</code> must be specified for all model parameters.</td></tr>
<tr class="footnote"><td colspan="3">Options <code class="command">prior()</code> and <code class="command">block()</code> can be repeated.</td></tr>
<tr class="footnote"><td colspan="3">
<var class="command">indepvars</var> and <var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var> may contain factor variables; see <a class="command" href="http://www.stata.com/help.cgi?fvvarlist"><b>fvvarlist</b></a>.</td></tr>
<tr class="footnote"><td colspan="3">With multiple-equations specifications, a local <var class="command"><a class="command" href="http://www.stata.com/help.cgi?if"><b>if</b></a></var> specified within an equation is applied together with the global <var class="command">if</var> specified with the command.</td></tr>
<tr class="footnote"><td colspan="3">Only <code class="command">fweight</code>s are allowed; see <a class="command" href="http://www.stata.com/help.cgi?weight"><b>weight</b></a>.</td></tr>
<tr class="footnote"><td colspan="3">With multiple-equations specifications, local weights or (weights specified within an equation) override global weights (weights specified with the command).</td></tr>
<tr class="footnote"><td colspan="3">See <a class="command" href="http://www.stata.com/help.cgi?bayesmh_postestimation"><b>[BAYES]</b> bayesmh postestimation</a> for features available after estimation. </td></tr>
</tfoot>
</table>
<table class="syntab" id="blockopts">
<thead><tr>
<td colspan="2"> blockopts</td>
<td>Description</td>
</tr></thead>  <tbody>
<tr>
<td class="normal"></td>
<td><code options="gibbs" class="command">gibbs</code></td>
<td>requests Gibbs sampling; available for selected models only and not allowed with <code class="command">scale()</code>, <code class="command">covariance()</code>, or <code class="command">adaptation()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="split" class="command">split</code></td>
<td>requests that all parameters in a block be treated as separate blocks</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="re" class="command"><u>re</u>ffects</code></td>
<td>requests that all parameters in a block be treated as random-effects parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="sc" class="command"><u>sc</u>ale(<var>#</var>)</code></td>
<td>initial multiplier for scale factor for current block; default is <code class="command">scale(2.38)</code>; not allowed with <code class="command">gibbs</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="cov" class="command"><u>cov</u>ariance(<var>#</var>)</code></td>
<td>initial proposal covariance for the current block; default is the identity matrix; not allowed with <code class="command">gibbs</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="adapt" class="command"><u>adapt</u>ation(<var><a href="#adaptopts">adaptopts</a></var>)</code></td>
<td>control the adaptive MCMC procedure of the current block; not allowed with <code class="command">gibbs</code>
</td>
</tr>
</tbody>          <tfoot><tr class="footnote"><td colspan="3">Only <code class="command">tarate()</code> and <code class="command">tolerance()</code> may be specified in the <code class="command">adaptation()</code> option.</td></tr></tfoot>
</table>
<table class="syntab" id="adaptopts">
<thead><tr>
<td colspan="2"> adaptopts</td>
<td>Description</td>
</tr></thead>  <tbody>
<tr>
<td class="normal"></td>
<td><code options="every(#)" class="command">every(<var>#</var>)</code></td>
<td>adaptation interval; default is <code class="command">every(100)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="maxiter(#)" class="command">maxiter(<var>#</var>)</code></td>
<td>maximum number of adaptation loops; default is <code class="command">maxiter(25)</code> or max<span options="-(">{c -(}</span>25,<code class="command">floor(burnin()/every())</code><span options=")-">{c )-}</span> whenever default values of these options are modified</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="miniter(#)" class="command">miniter(<var>#</var>)</code></td>
<td>minimum number of adaptation loops; default is <code class="command">miniter(5)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="alpha(#)" class="command">alpha(<var>#</var>)</code></td>
<td>parameter controlling acceptance rate (AR); default is <code class="command">alpha(0.75)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="beta(#)" class="command">beta(<var>#</var>)</code></td>
<td>parameter controlling proposal covariance; default is <code class="command">beta(0.8)</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code options="gamma(#)" class="command">gamma(<var>#</var>)</code></td>
<td>parameter controlling adaptation rate; default is <code class="command">gamma(0)</code>
</td>
</tr>
<tr style="has_footnote">
<td>*</td>
<td><code options="tarate(#)" class="command">tarate(<var>#</var>)</code>
</td>
<td>target acceptance rate (TAR); default is parameter specific</td>
</tr>
<tr style="has_footnote">
<td>*</td>
<td><code options="tol" class="command"><u>tol</u>erance(<var>#</var>)</code>
</td>
<td>tolerance for AR; default is <code class="command">tolerance(0.01)</code>
</td>
</tr>
</tbody>            <tfoot><tr class="footnote"><td colspan="3"> * Only starred options may be specified in the <code class="command">adaptation()</code> option specified within <code class="command">block()</code>.</td></tr></tfoot>
</table>
<h2 margin_bottom="1" id="menu">Menu</h2>
<p class="hang"><b>Statistics &gt; Bayesian analysis &gt; Estimation</b> </p>
<h2 margin_bottom="1" id="description">Description</h2>
<p class="std"><code class="command">bayesmh</code> fits a variety of Bayesian models using Metropolis-Hastings (MH) algorithm.  It provides various likelihood models and prior distributions for you to choose from.  Likelihood models include univariate normal linear and nonlinear regressions, multivariate normal linear and nonlinear regressions, generalized linear models such as logit and Poisson regressions, and multiple-equations linear models.  Prior distributions include continuous distributions such as uniform, Jeffreys, normal, gamma, multivariate normal, and Wishart and discrete distributions such as Bernoulli and Poisson.  You can also program your own Bayesian models; see <a class="command" href="http://www.stata.com/help.cgi?bayesmh_evaluators"><b>[BAYES]</b> bayesmh evaluators</a>. </p>
<h2 margin_bottom="1" id="options">Options</h2>
<h3 margin_bottom="1">Model</h3>
<p class="hang"><code options="noconstant" class="command">noconstant</code> suppresses the constant term (intercept) from the regression model. By default, <code class="command">bayesmh</code> automatically includes a model parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">depname</var><code class="command">:_cons<span options=")-">{c )-}</span></code> in all regression models except ordered and nonlinear models. Excluding the constant term may be desirable when there is a factor variable, the base level of which absorbs the constant term in the linear combination. </p>
<p class="hang"><span options="dist_spec">{marker dist_spec}</span> <code options="likelihood" class="command">likelihood</code><code class="command">(</code><var class="command"><a class="command" href="#modelspec"><b>modelspec</b></a></var><code class="command">)</code> specifies the distribution of the data in the regression model.  This option specifies the likelihood portion of the Bayesian model. This option is required. <var class="command">modelspec</var> specifies one of the supported likelihood distributions.  A location parameter of these distributions is automatically parameterized as a linear combination of the specified independent variables and needs not be specified.  Other parameters may be specified as arguments to the distribution separated by commas. Each argument may be a real number (<var class="command">#</var>), a variable name (except for matrix parameters), a predefined matrix, a model parameter specified in <code class="command"><span options="-(">{c -(}</span> <span options=")-">{c )-}</span></code>, a Stata expression, or a substitutable expression containing model parameters; see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesdeclaringmodelparameters.pdf">BAYES bayesmhRemarksandexamplesDeclaringmodelparameters<var class="command">Declaring model parameters</var></a> and <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesspecifyingargumentsoflikelihoodmodelsandpriordistributions.pdf">BAYES bayesmhRemarksandexamplesSpecifyingargumentsoflikelihoodmodelsandpriordistributions<var class="command">Specifying arguments of likelihood models and prior distributions</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="more">For some likelihood models, option <code class="command">likelihood()</code> provides suboptions <var class="command">subopts</var> in <code options="likelihood(..., subopts)" class="command">likelihood(<var>...</var>,<var> subopts</var>)</code>. <var class="command">subopts</var> is <code class="command">offset()</code>, <code class="command">exposure()</code>, and <code class="command">baseoutcome()</code>. </p>
<p class="hang2" id="offset"><code options="offset" class="command"><u>offset</u>(<var><a href="http://www.stata.com/help.cgi?varname">varname_o</a></var>)</code> specifies that <var class="command">varname_o</var> be included in the regression model with the coefficient constrained to be 1.  This option is available with <code class="command">probit</code>, <code class="command">logit</code>, <code class="command">binlogit()</code>, <code class="command">oprobit</code>, <code class="command">ologit</code>, and <code class="command">poisson</code>. </p>
<p class="hang2" id="exposure"><code options="exposure" class="command"><u>exposure</u>(<var><a href="http://www.stata.com/help.cgi?varname">varname_e</a></var>)</code> specifies a variable that reflects the amount of exposure over which the <a class="command" href="http://www.stata.com/help.cgi?depvar">depvar</a> events were observed for each observation; ln(<var class="command">varname_e</var>) with coefficient constrained to be 1 is entered into the log-link function. This option is available with <code class="command">poisson</code>. </p>
<p class="hang2"><code class="command">noglmtransform</code> requests that the GLM-type transformation not be applied to linear and nonlinear predictors of Poisson, exponential, and binomial logistic regression models.  If this option is not specified, Poisson, exponential, and binomial logistic regressions are assumed, which apply the corresponding GLM transformation to the linear predictor to model the mean function.  The GLM transformation is mu = E(Y|X) = h(X'beta), where h() is an inverse link function.  For example, for Poisson and exponential regression models, h(x) = exp(x).  For generalized nonlinear models, mu = h<span options="-(">{c -(}</span>f(X,beta)<span options=")-">{c )-}</span>, where f() is a nonlinear function of predictors. If this option is specified, the linear and nonlinear specifications are assumed to directly model the mean mu of the Poisson distribution, the scale parameter b=1/mu of the exponential distribution, and the probability of success mu/n of the binomial distribution.  This option is useful with constant-only models for modeling outcome distributions directly; see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesbetabinomialmodel.pdf">BAYES bayesmhRemarksandexamplesBetabinomialmodel<var class="command">Beta-binomial model</var></a> under <var class="command">Remarks and examples</var> in <b>[BAYES] bayesmh</b>. </p>
<p class="hang"><code options="prior(priorspec)" class="command">prior(<var>priorspec</var>)</code> specifies a prior distribution for model parameters. This option is required and may be repeated.  A prior must be specified for each model parameter.  Model parameters may be scalars or matrices but both types may not be combined in one prior statement.  If multiple scalar parameters are assigned a single univariate prior, they are considered independent, and the specified prior is used for each parameter.  You may assign a multivariate prior of dimension <var class="command">d</var> to <var class="command">d</var> scalar parameters. Also see <a class="command" href="#refer"><var class="command">Referring to model parameters</var><b></b></a> below and <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesspecifyingargumentsoflikelihoodmodelsandpriordistributions.pdf">BAYES bayesmhRemarksandexamplesSpecifyingargumentsoflikelihoodmodelsandpriordistributions<var class="command">Specifying arguments of likelihood models and prior distributions</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="std">All <code class="command">likelihood()</code> and <code class="command">prior()</code> combinations are allowed, but they are not guaranteed to correspond to proper posterior distributions.  You need to think carefully about the model you are building and evaluate its convergence thoroughly. </p>
<p class="hang"><code options="dryrun" class="command">dryrun</code> specifies to show the summary of the model that would be fit without actually fitting the model.  This option is recommended for checking specifications of the model before fitting the model. </p>
<h3 margin_bottom="1">Model 2</h3>
<p class="hang"><code options="reffects(varname)" class="command">reffects(<var><a href="http://www.stata.com/help.cgi?varname">varname</a></var>)</code> specifies a random-effects variable, a variable identifying the group structure for the random effects, with univariate linear models.  This option is useful for fitting two-level random-intercept models. A random-effects variable is treated as a factor variable with no base level. As such, you can refer to random-effects parameters or, simply, random effects associated with <var class="command">varname</var> using a conventional factor-variable notation. For example, you can use <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command">:i.</code><var class="command">varname</var><code class="command"><span options=")-">{c )-}</span></code> to refer to all random-effects parameters of <var class="command">varname</var>.  These parameters must be included in a single prior statement, usually a normal distribution with variance specified by an additional parameter.  The random-effects parameters are assumed to be conditionally independent across levels of <var class="command">varname</var> given all other model parameters.  The random-effects parameters are automatically grouped in one block and are thus not allowed in the <code class="command">block()</code> option. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesex23.pdf">example 23</a>. </p>
<p class="hang"><code class="command">redefine(</code><var class="command">label</var><code class="command">:i.</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?varname"><b>varname</b></a></var><code class="command">)</code> specifies a random-effects linear form that can be used in substitutable expressions.  You can use <code class="command"><span options="-(">{c -(}</span></code><var class="command">label</var><code class="command">:<span options=")-">{c )-}</span></code> to refer to the linear form in substitutable expressions.  You can specify <code class="command"><span options="-(">{c -(}</span></code><var class="command">label</var><code class="command">:i.</code><var class="command">varname</var><code class="command"><span options=")-">{c )-}</span></code> to refer to all random-effects parameters associated with <var class="command">varname</var>.  The random-effects parameters are automatically grouped in one block and are thus not allowed in the <code class="command">block()</code> option.  This option is useful for fitting multilevel models.  See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesex29.pdf">example 29</a>. </p>
<p class="hang"><code class="command">xbdefine(</code><var class="command">label</var><code class="command">:</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?varlist"><b>varlist</b></a></var><code class="command">)</code> specifies a linear form of the variables in <var class="command">varlist</var> that can be used in substitutable expressions.  You can use the specification <code class="command"><span options="-(">{c -(}</span></code><var class="command">label</var><code class="command">:<span options=")-">{c )-}</span></code> to refer to the linear form in substitutable expressions.  For any <var class="command">varname</var> in <var class="command">varlist</var>, you can use <code class="command"><span options="-(">{c -(}</span></code><var class="command">label</var><code class="command">:</code><var class="command">varname</var><code class="command"><span options=")-">{c )-}</span></code> to refer to the corresponding parameter. This option is useful with nonlinear specifications when the linear form contains many variables and provides more efficient computation in such cases. </p>
<p class="hang"><code class="command">block(</code><var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var>[<code class="command">,</code> <var class="command">blockopts</var>]<code class="command">)</code> specifies a group of model parameters for the blocked MH algorithm.  By default, all parameters except matrices are treated as one block, and each matrix parameter is viewed as a separate block.  You can use the <code class="command">block()</code> option to separate scalar parameters in multiple blocks. Technically, you can also use <code class="command">block()</code> to combine matrix parameters in one block, but this is not recommended.  The <code class="command">block()</code> option may be repeated to define multiple blocks.  Different types of model parameters, such as scalars and matrices, may not be specified in one <code class="command">block()</code>. Parameters within one block are updated simultaneously, and each block of parameters is updated in the order it is specified; the first specified block is updated first, the second is updated second, and so on. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesimprovingefficiencyofthemhalgorithm---blockingofparameters.pdf">BAYES bayesmhRemarksandexamplesImprovingefficiencyoftheMHalgorithm---blockingofparameters<var class="command">Improving efficiency of the MH algorithm---blocking of parameters</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="hang2"><var class="command">blockopts</var> include <code class="command">gibbs</code>, <code class="command">split</code>, <code class="command">reffects</code>, <code class="command">scale()</code>, <code class="command">covariance()</code>, and <code class="command">adaptation()</code>. </p>
<p class="hang2"><code class="command">gibbs</code> option specifies to use Gibbs sampling to update parameters in the block.  This option is allowed only for specific combinations of likelihood models and prior distributions; see <a href="http://www.stata.com/manuals14/bayesbayesmhmethodsandformulasgibbssamplingforsomelikelihood-priorandprior-hyperpriorconfigurations.pdf">BAYES bayesmhMethodsandformulasGibbssamplingforsomelikelihood-priorandprior-hyperpriorconfigurations<var class="command">Gibbs sampling for some likelihood-prior and prior-hyperprior configurations</var></a> in <b>[BAYES] bayesmh</b>. For more information, see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesgibbsandhybridmhsampling.pdf">BAYES bayesmhRemarksandexamplesGibbsandhybridMHsampling<var class="command">Gibbs and hybrid MH sampling</var></a> in <b>[BAYES] bayesmh</b>. <code class="command">gibbs</code> may not be combined with <code class="command">reffects</code>, <code class="command">scale()</code>, <code class="command">covariance()</code>, or <code class="command">adaptation()</code>. </p>
<p class="hang2"><code options="split" class="command">split</code> specifies that all parameters in a block are treated as separate blocks.  This may be useful for levels of factor variables. </p>
<p class="hang2"><code options="reffects" class="command">reffects</code> specifies that the parameters associated with the levels of a factor variable included in the likelihood specification be treated as random-effects parameters.  Random-effects parameters must be included in one prior statement and are assumed to be conditionally independent across levels of a grouping variable given all other model parameters. <code class="command">reffects</code> requires that parameters be specified as <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command">:i.</code><var class="command">varname</var><code class="command"><span options=")-">{c )-}</span></code>, where <code class="command">i.</code><var class="command">varname</var> is the corresponding factor variable in the likelihood specification, and may not be combined with <code class="command">block()</code>'s suboptions <code class="command">gibbs</code> and <code class="command">split</code>.  This option is useful for fitting hierarchical or multilevel models. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesex25.pdf">example 25</a> for details. </p>
<p class="hang2"><code options="scale(#)" class="command">scale(<var>#</var>)</code> specifies an initial multiplier for the scale factor corresponding to the specified block.  The initial scale factor is computed as <var class="command">#</var>/sqrt<span>{n_p None}</span> for continuous parameters and as <var class="command">#</var>/n_p for discrete parameters, where n_p is the number of parameters in the block.  By default, <var class="command">#</var> is equal to 2.38 (that is, <code class="command">scale(2.38)</code>) is the default.  If specified, this option overrides the respective setting from the <code class="command">scale()</code> option specified with the <code class="command">bayesmh</code> command.  <code class="command">scale()</code> may not be combined with <code class="command">gibbs</code>. </p>
<p class="hang2"><code options="covariance(matname)" class="command">covariance(<var>matname</var>)</code> specifies a scale matrix <var class="command">matname</var> to be used to compute an initial proposal covariance matrix corresponding to the specified block.  The initial proposal covariance is computed as <var class="command">rho</var> x <var class="command">Sigma</var>, where <var class="command">rho</var> is a scale factor and <var class="command">Sigma</var> = <var class="command">matname</var>.  By default, <var class="command">Sigma</var> is the identity matrix.  If specified, this option overrides the respective setting from the <code class="command">covariance()</code> option specified with the <code class="command">bayesmh</code> command. <code class="command">covariance()</code> may not be combined with <code class="command">gibbs</code>. </p>
<p class="hang2"><code class="command">adaptation(tarate())</code> and <code class="command">adaptation(tolerance())</code> specify block-specific TAR and acceptance tolerance. If specified, they override the respective settings from the <code class="command">adaptation()</code> option specified with the <code class="command">bayesmh</code> command. <code class="command">adaptation()</code> may not be combined with <code class="command">gibbs</code>. </p>
<p class="hang" id="initspec"><code options="initial(initspec)" class="command">initial(<var>initspec</var>)</code> specifies initial values for the model parameters to be used in the simulation.  You can specify a parameter name, its initial value, another parameter name, its initial value, and so on.  For example, to initialize a scalar parameter <code class="command">alpha</code> to 0.5 and a 2x2 matrix <code class="command">Sigma</code> to the identity matrix <code class="command">I(2)</code>, you can type </p>
<p class="hang3"><code class="command">bayesmh</code> ..., <code class="command">initial(<span options="-(">{c -(}</span><code class="command">alpha</code><span options=")-">{c )-}</span></code><code class="command">0.5</code><code class="command"><span options="-(">{c -(}</span></code><code class="command">Sigma,m<span options=")-">{c )-}</span></code> <code class="command">I(2))</code> ... </p>
<p class="more">You can also specify a list of parameters using any of the specifications described in <a class="command" href="#refer"><var class="command">Referring to model parameters</var><b></b></a>. For example, to initialize all regression coefficients from equations <code class="command">y1</code> and <code class="command">y2</code> to zero, you can type </p>
<p class="hang3"><code class="command">bayesmh</code> ...<code class="command">,</code> <code class="command">initial(<span options="-(">{c -(}</span></code><code class="command">y1:</code><code class="command"><span options=")-">{c )-}</span></code> <code class="command"><span options="-(">{c -(}</span>y2:<span options=")-">{c )-}</span></code> <code class="command">0)</code> ... </p>
<p class="more">The general specification of <var class="command">initspec</var> is </p>
<p class="hang3"><var class="command"><a class="command" href="#paramref"><b>paramref</b></a></var> <var class="command">#</var> [<var class="command">paramref</var> <var class="command">#</var> [...]] </p>
<p class="more">Curly braces may be omitted for scalar parameters but must be specified for matrix parameters.  Initial values declared using this option override the default initial values or any initial values declared during parameter specification in the <code class="command">likelihood()</code> option. See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesspecifyinginitialvalues.pdf">BAYES bayesmhRemarksandexamplesSpecifyinginitialvalues<var class="command">Specifying initial values</var></a> in <b>[BAYES] bayesmh</b> for details. </p>
<p class="hang"><code class="command">nomleinitial</code> suppresses using maximum likelihood estimates (MLEs) starting values for regression coefficients.  By default, when no initial values are specified, MLE values (when available) are used as initial values.  If <code class="command">nomleinitial</code> is specified and no initial values are provided, <code class="command">bayesmh</code> uses ones for positive scalar parameters, zeros for other scalar parameters, and identity matrices for matrix parameters. <code class="command">nomleinitial</code> may be useful for providing an alternative starting state when checking convergence of MCMC. </p>
<h3 margin_bottom="1">Simulation</h3>
<p class="hang"><code options="mcmcsize(#)" class="command">mcmcsize(<var>#</var>)</code> specifies the target MCMC sample size.  The default MCMC sample size is <code class="command">mcmcsize(10000)</code>.  The total number of iterations for the MH algorithm equals the sum of the burn-in iterations and the MCMC sample size in the absence of thinning.  If thinning is present, the total number of MCMC iterations is computed as <code class="command">burnin()</code> + (<code class="command">mcmcsize()</code> - 1) x <code class="command">thinning()</code> + 1. Computation time of the MH algorithm is proportional to the total number of iterations.  The MCMC sample size determines the precision of posterior summaries, which may be different for different model parameters and will depend on the efficiency of the Markov chain. Also see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesburn-inperiodandmcmcsamplesize.pdf">BAYES bayesmhRemarksandexamplesBurn-inperiodandMCMCsamplesize<var class="command">Burn-in period and MCMC sample size</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="hang"><code options="burnin(#)" class="command">burnin(<var>#</var>)</code> specifies the number of iterations for the burn-in period of MCMC.  The values of parameters simulated during burn-in are used for adaptation purposes only and are not used for estimation.  The default is <code class="command">burnin(2500)</code>.  Typically, burn-in is chosen to be as long as or longer than the adaptation period. Also see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesburn-inperiodandmcmcsamplesize.pdf">BAYES bayesmhRemarksandexamplesBurn-inperiodandMCMCsamplesize<var class="command">Burn-in period and MCMC sample size</var></a> and <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesconvergenceofmcmc.pdf">BAYES bayesmhRemarksandexamplesConvergenceofMCMC<var class="command">Convergence of MCMC</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="hang"><code options="thinning(#)" class="command">thinning(<var>#</var>)</code> specifies the thinning interval.  Only simulated values from every (1+k x <code class="command">#</code>)th iteration for k = 0, 1, 2, ... are saved in the final MCMC sample; all other simulated values are discarded. The default is <code class="command">thinning(1)</code>; that is, all simulation values are saved. Thinning greater than one is typically used for decreasing the autocorrelation of the simulated MCMC sample. </p>
<p class="hang"><code options="rseed(#)" class="command">rseed(<var>#</var>)</code> sets the random-number seed.  This option can be used to reproduce results.  <code options="rseed(#)" class="command">rseed(<var>#</var>)</code> is equivalent to typing <code class="command">set</code> <code class="command">seed</code> <var class="command">#</var> prior to calling <code class="command">bayesmh</code>; see <a class="command" href="http://www.stata.com/help.cgi?set_seed"><b>[R]</b> set seed</a> and <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesreproducingresults.pdf">BAYES bayesmhRemarksandexamplesReproducingresults<var class="command">Reproducing results</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="hang"><code options="exclude" class="command"><u>exclude</u>(<var><a href="#paramref">paramref</a></var>)</code> specifies which model parameters should be excluded from the final MCMC sample.  These model parameters will not appear in the estimation table, and postestimation features will not be available for these parameters.  This option is useful for suppressing nuisance model parameters.  For example, if you have a factor predictor variable with many levels but you are only interested in the variability of the coefficients associated with its levels, not their actual values, then you may wish to exclude this factor variable from the simulation results.  If you simply want to omit some model parameters from the output, see the <code class="command">noshow()</code> option. </p>
<h3 margin_bottom="1">Adaptation</h3>
<p class="hang"><code options="adaptation(adaptopts)" class="command">adaptation(<var>adaptopts</var>)</code> controls adaptation of the MCMC procedure. Adaptation takes place every prespecified number of MCMC iterations and consists of tuning the proposal scale factor and proposal covariance for each block of model parameters.  Adaptation is used to improve sampling efficiency. Provided defaults are based on theoretical results and may not be sufficient for all applications.  See <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesadaptationofthemhalgorithm.pdf">BAYES bayesmhRemarksandexamplesAdaptationoftheMHalgorithm<var class="command">Adaptation of the MH algorithm</var></a> in <b>[BAYES] bayesmh</b> for details about adaptation and its parameters. </p>
<p class="more"><var class="command">adaptopts</var> are any of the following options: </p>
<p class="hang3"><code options="every(#)" class="command">every(<var>#</var>)</code> specifies that adaptation be attempted every <var class="command">#</var>th iteration.  The default is <code class="command">every(100)</code>.  To determine the adaptation interval, you need to consider the maximum block size specified in your model. The update of a block with k model parameters requires the estimation of k x k covariance matrix.  If the adaptation interval is not sufficient for estimating the k(k+1)/2 elements of this matrix, the adaptation may be insufficient. </p>
<p class="hang3"><code options="maxiter(#)" class="command">maxiter(<var>#</var>)</code> specifies the maximum number of adaptive iterations.  Adaptation includes tuning of the proposal covariance and of the scale factor for each block of model parameters.  Once the TAR is achieved within the specified tolerance, the adaptation stops.  However, no more than <var class="command">#</var> adaptation steps will be performed.  The default is variable and is computed as max<span options="-(">{c -(}</span>25,<code class="command">floor(burnin()/adaptation(every()))</code><span options=")-">{c )-}</span>. </p>
<p class="more3"><code options="maxiter()" class="command">maxiter(<var></var>)</code> is usually chosen to be no greater than (<code class="command">mcmcsize()</code>+<code class="command">burnin()</code>)/<code class="command">adaptation(every())</code>. </p>
<p class="hang3"><code options="miniter(#)" class="command">miniter(<var>#</var>)</code> specifies the minimum number of adaptive iterations to be performed regardless of whether the TAR has been achieved.  The default is <code class="command">miniter(5)</code>.  If the specified <code class="command">miniter()</code> is greater than <code class="command">maxiter()</code>, then <code class="command">miniter()</code> is reset to <code class="command">maxiter()</code>.  Thus, if you set <code class="command">maxiter(0)</code>, then no adaptation will be performed. </p>
<p class="hang3"><code options="alpha(#)" class="command">alpha(<var>#</var>)</code> specifies a parameter controlling the adaptation of the AR.  <code class="command">alpha()</code> should be in [0,1]. The default is <code class="command">alpha(0.75)</code>. </p>
<p class="hang3"><code options="beta(#)" class="command">beta(<var>#</var>)</code> specifies a parameter controlling the adaptation of the proposal covariance matrix.  <code class="command">beta()</code> must be in [0,1].  The closer <code class="command">beta()</code> is to zero, the less adaptive the proposal covariance.  When <code class="command">beta()</code> is zero, the same proposal covariance will be used in all MCMC iterations.  The default is <code class="command">beta(0.8)</code>. </p>
<p class="hang3"><code options="gamma(#)" class="command">gamma(<var>#</var>)</code> specifies a parameter controlling the adaptation rate of the proposal covariance matrix.  <code class="command">gamma()</code> must be in [0,1].  The larger the value of <code class="command">gamma()</code>, the less adaptive the proposal covariance. The default is <code class="command">gamma(0)</code>. </p>
<p class="hang3"><code options="tarate(#)" class="command">tarate(<var>#</var>)</code> specifies the TAR for all blocks of model parameters; this is rarely used.  <code class="command">tarate()</code> must be in (0,1). The default AR is 0.234 for blocks containing continuous multiple parameters, 0.44 for blocks with one continuous parameter, and 1/<var class="command">n_maxlev</var> for blocks with discrete parameters, where <var class="command">n_maxlev</var> is the maximum number of levels for a discrete parameter in the block. </p>
<p class="hang3"><code options="tolerance(#)" class="command">tolerance(<var>#</var>)</code> specifies the tolerance criterion for adaptation based on the TAR.  <code class="command">tolerance()</code> should be in (0,1). Adaptation stops whenever the absolute difference between the current and TARs is less than <code class="command">tolerance()</code>.  The default is <code class="command">tolerance(0.01)</code>. </p>
<p class="hang"><code options="scale(#)" class="command">scale(<var>#</var>)</code> specifies an initial multiplier for the scale factor for all blocks.  The initial scale factor is computed as <var class="command">#</var>/sqrt<span>{n_p None}</span> for continuous parameters and <var class="command">#</var>/n_p for discrete parameters, where n_p is the number of parameters in the block.  By default, <var class="command">#</var> is equal to 2.38; that is, <code class="command">scale(2.38)</code> is the default. </p>
<p class="hang"><code options="covariance(cov)" class="command">covariance(<var>cov</var>)</code> specifies a scale matrix <var class="command">cov</var> to be used to compute an initial proposal covariance matrix.  The initial proposal covariance is computed as rho x Sigma, where rho is a scale factor and Sigma=<var class="command">matname</var>.  By default, Sigma is the identity matrix. Partial specification of Sigma is also allowed.  The rows and columns of <var class="command">cov</var> should be named after some or all model parameters.  According to some theoretical results, the optimal proposal covariance is the posterior covariance matrix of model parameters, which is usually unknown. </p>
<h3 margin_bottom="1">Reporting</h3>
<p class="hang"><code options="clevel(#)" class="command">clevel(<var>#</var>)</code> specifies the credible level, as a percentage, for equal-tailed and HPD credible intervals.  The default is <code class="command">clevel(95)</code> or as set by <a class="command" href="http://www.stata.com/help.cgi?clevel"><b>[BAYES]</b> set clevel</a>. </p>
<p class="hang"><code options="hpd" class="command">hpd</code> specifies the display of HPD credible intervals instead of the default equal-tailed credible intervals. </p>
<p class="hang"><code options="batch(#)" class="command">batch(<var>#</var>)</code> specifies the length of the block for calculating batch means, batch standard deviation, and MCSE using batch means.  The default is <code class="command">batch(0)</code>, which means no batch calculations.  When <code class="command">batch()</code> is not specified, MCSE is computed using effective sample sizes instead of batch means.  Option <code class="command">batch()</code> may not be combined with <code class="command">corrlag()</code> or <code class="command">corrtol()</code>. </p>
<p class="hang"><code options="nomodelsummary" class="command">nomodelsummary</code> suppresses the detailed summary of the specified model. Model summary is reported by default. </p>
<p class="hang"><code options="noexpression" class="command">noexpression</code> suppresses the output of expressions from the model summary.  Expressions (when specified) are reported by default. </p>
<p class="hang"><code options="blocksummary" class="command">blocksummary</code> displays the summary of the specified blocks.  This option is useful when <code class="command">block()</code> is specified and may not be combined with <code class="command">dryrun</code>. </p>
<p class="hang"><code options="dots" class="command">dots</code> and <code options="dots(#)" class="command">dots(<var>#</var>)</code> specify to display dots as simulation is performed.   <code options="dots(#)" class="command">dots(<var>#</var>)</code> displays a dot every <var class="command">#</var> iterations.  During the adaptation period, a symbol <code class="command">a</code> is displayed instead of a dot. If <code class="command">dots(</code>...<code class="command">,</code> <code options="every(#)" class="command">every(<var>#</var>)</code><code class="command">)</code> is specified, then an iteration number is displayed every <var class="command">#</var>th iteration instead of a dot or <code class="command">a</code>. <code class="command">dots(,</code> <code options="every(#)" class="command">every(<var>#</var>)</code><code class="command">)</code> is equivalent to <code class="command">dots(1,</code> <code options="every(#)" class="command">every(<var>#</var>)</code><code class="command">)</code>.  <code class="command">dots</code> displays dots every 100 iterations and iteration numbers every 1,000 iterations; it is a synonym for <code class="command">dots(100),</code> <code class="command">every(1000)</code>. By default, no dots are displayed (<code class="command">dots(0)</code>). </p>
<p class="hang"><code options="noshow" class="command"><u>noshow</u>(<var><a href="#paramref">paramref</a></var>)</code> specifies a list of model parameters to be excluded from the output.  Do not confuse this option with <code class="command">exclude()</code>, which excludes the specified parameters from the MCMC sample. </p>
<p class="hang"><code options="showreffects" class="command"><u>showreffects</u>(<var><a href="#paramref">paramref</a></var>)</code> is used with option <code class="command">reffects()</code> and specifies a list of random-effects parameters to be included in the output.  By default, all random-effects parameters introduced by <code class="command">reffects()</code> are excluded from the output as if you have specified the <code class="command">noshow()</code> option. </p>
<p class="hang"><code options="notable" class="command">notable</code> suppresses the estimation table from the output.  By default, a summary table is displayed containing all model parameters except those listed in the <code class="command">exclude()</code> and <code class="command">noshow()</code> options.  Regression model parameters are grouped by equation names.  The table includes six columns and reports the following statistics using the MCMC simulation results: posterior mean, posterior standard deviation, MCMC standard error or MCSE, posterior median, and credible intervals. </p>
<p class="hang"><code options="noheader" class="command">noheader</code> suppresses the output header either at estimation or upon replay. </p>
<p class="hang"><code options="title(string)" class="command">title(<var>string</var>)</code> specifies an optional title for the command that is displayed above the table of the parameter estimates.  The default title is specific to the specified likelihood model. </p>
<p class="hang"><code class="command">saving(</code><var class="command"><a class="command" href="http://www.stata.com/help.cgi?filename"><b>filename</b></a></var>[<code class="command">, replace</code>]<code class="command">)</code> saves simulation results in <var class="command">filename</var><code class="command">.dta</code>.  The <code class="command">replace</code> option specifies to overwrite <var class="command">filename</var><code class="command">.dta</code> if it exists. If the <code class="command">saving()</code> option is not specified, <code class="command">bayesmh</code> saves simulation results in a temporary file for later access by postestimation commands.  This temporary file will be overridden every time <code class="command">bayesmh</code> is run and will also be erased if the current estimation results are cleared. <code class="command">saving()</code> may be specified during estimation or on replay. </p>
<p class="more">The saved dataset has the following structure. Variance <code class="command">_index</code> records iteration numbers.  <code class="command">bayesmh</code> saves only states (sets of parameter values) that are different from one iteration to another and the frequency of each state in variable <code class="command">_frequency</code>. (Some states may be repeated for discrete parameters.) As such, <code class="command">_index</code> may not necessarily contain consecutive integers. Remember to use <code class="command">_frequency</code> as a frequency weight if you need to obtain any summaries of this dataset.  Values for each parameter are saved in a separate variable in the dataset.  Variables containing values of parameters without equation names are named as <code class="command">eq0_p</code><var class="command">#</var>, following the order in which parameters are declared in <code class="command">bayesmh</code>.  Variables containing values of parameters with equation names are named as <code class="command">eq</code><var class="command">#</var><code class="command">_p</code><var class="command">#</var>, again following the order in which parameters are defined.  Parameters with the same equation names will have the same variable prefix <code class="command">eq</code><var class="command">#</var>.  For example, </p>
<p class="hang2"><code class="command">. bayesmh y x1, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>)) saving(mcmc)</code> ... </p>
<p class="more">will create a dataset <code class="command">mcmc.dta</code> with variable names <code class="command">eq1_p1</code> for <code class="command"><span options="-(">{c -(}</span>y:x1<span options=")-">{c )-}</span></code>, <code class="command">eq1_p2</code> for <code class="command"><span options="-(">{c -(}</span>y:_cons<span options=")-">{c )-}</span></code>, and <code class="command">eq0_p1</code> for <code class="command"><span options="-(">{c -(}</span>var<span options=")-">{c )-}</span></code>.  Also see macros <code class="command">e(parnames)</code> and <code class="command">e(varnames)</code> for the correspondence between parameter names and variable names. </p>
<p class="more">In addition, <code class="command">bayesmh</code> saves variable <code class="command">_loglikelihood</code> to contain values of the log likelihood from each iteration and variable <code class="command">_logposterior</code> to contain values of log posterior from each iteration. </p>
<p class="hang" id="display_options"><var class="command">display_options</var>: <code options="vsquish" class="command">vsquish</code>, <code options="noempty" class="command"><u>noempty</u>cells</code>, <code options="base" class="command"><u>base</u>levels</code>, <code options="allbase" class="command"><u>allbase</u>levels</code>, <code options="nofvlab" class="command"><u>nofvlab</u>el</code>, <code options="fvwrap(#)" class="command">fvwrap(<var>#</var>)</code>, <code options="fvwrapon(style)" class="command">fvwrapon(<var>style</var>)</code>, and <code options="nolstretch" class="command">nolstretch</code>; see <a class="command" href="http://www.stata.com/help.cgi?estimation%20options"><b>[R] estimation options</b></a>. </p>
<h3 margin_bottom="1">Advanced</h3>
<p class="hang" id="search_options"><code options="search(search_options)" class="command">search(<var>search_options</var>)</code> searches for feasible initial values. <code class="command">search_options</code> are <code class="command">on</code>, <code options="repeat(#)" class="command">repeat(<var>#</var>)</code>, and <code class="command">off</code>. </p>
<p class="hang2"><code class="command">search(on)</code> is equivalent to <code class="command">search(repeat(500))</code>.  This is the default. </p>
<p class="hang2"><code class="command">search(repeat(</code><var class="command">k</var><code class="command">))</code>, <var class="command">k</var> &gt; 0, specifies the number of random attempts to be made to find a feasible initial-value vector, or initial state.  The default is <code class="command">repeat(500)</code>.  An initial-value vector is feasible if it corresponds to a state with positive posterior probability. If feasible initial values are not found after <var class="command">k</var> attempts, an error will be issued.  <code class="command">repeat(0)</code> (rarely used) specifies that no random attempts be made to find a feasible starting point.  In this case, if the specified initial vector does not correspond to a feasible state, an error will be issued. </p>
<p class="hang2"><code class="command">search(off)</code> prevents <code class="command">bayesmh</code> from searching for feasible initial values.  We do not recommend specifying this option. </p>
<p class="hang"><code options="corrlag(#)" class="command">corrlag(<var>#</var>)</code> specifies the maximum autocorrelation lag used for calculating effective sample sizes.  The default is min<span options="-(">{c -(}</span>500,<code class="command">mcmcsize()</code>/2<span options=")-">{c )-}</span>.  The total autocorrelation is computed as the sum of all lag-k autocorrelation values for k from 0 to either <code class="command">corrlag()</code> or the index at which the autocorrelation becomes less than <code class="command">corrtol()</code> if the latter is less than <code class="command">corrlag()</code>. Options <code class="command">corrlag()</code> and <code class="command">batch()</code> may not be combined. </p>
<p class="hang"><code options="corrtol(#)" class="command">corrtol(<var>#</var>)</code> specifies the autocorrelation tolerance used for calculating effective sample sizes.  The default is <code class="command">corrtol(0.01)</code>. For a given model parameter, if the absolute value of the lag-k autocorrelation is less than <code class="command">corrtol()</code>, then all autocorrelation lags beyond the kth lag are discarded.  Options <code class="command">corrtol()</code> and <code class="command">batch()</code> may not be combined. </p>

<h2 margin_bottom="1" id="remarks">Remarks</h2>
<p class="std">Remarks are presented under the following headings: </p>	<a class="command" href="#usingbayesmh"><b>Using bayesmh</b></a>
        <a class="command" href="#declare"><b>Declaring model parameters</b></a>
        <a class="command" href="#refer"><b>Referring to model parameters</b></a>
        <a class="command" href="#subexp"><b>Substitutable expressions</b></a>


<h2 margin_bottom="1" id="usingbayesmh">Using bayesmh</h2>
<p class="std">The <code class="command">bayesmh</code> command for Bayesian analysis includes three functional components: setting up a posterior model, performing MCMC simulation, and summarizing and reporting results.  The first component, the model-building step, requires some experience in the practice of Bayesian statistics and, as any modeling task, is probably the most demanding.  You should specify a posterior model that is statistically correct and that represents the observed data.  Another important aspect is the computational feasibility of the model in the context of the MH MCMC procedure implemented in <code class="command">bayesmh</code>. The provided MH algorithm is adaptive and, to a degree, can accommodate various statistical models and data structures.  However, careful model parametrization and well-specified initial values and MCMC sampling scheme are crucial for achieving a fast-converging Markov chain and consequently good results.  Simulation of MCMC must be followed by a thorough investigation of the convergence of the MCMC algorithm.  Once you are satisfied with the convergence of the simulated chains, you may proceed with posterior summaries of the results and their interpretation.  Below we discuss the three major steps of using <code class="command">bayesmh</code> and provide recommendations. </p>
<h2 margin_bottom="1" id="declare">Declaring model parameters</h2>
<p class="std">Model parameters are typically declared, meaning first introduced, in the arguments of distributions specified in options <code class="command">likelihood()</code> and <code class="command">prior()</code>.  We will refer to model parameters that are declared in the prior distributions (and not the likelihood distributions) as hyperparameters. Model parameters may also be declared within the parameter specification of the <code class="command">prior()</code> option, but this is more rare. </p>
<p class="std"><code class="command">bayesmh</code> distinguishes between two types of model parameters: scalar and matrix.  All parameters must be specified in curly braces, <code class="command"><span options="-(">{c -(}</span> <span options=")-">{c )-}</span></code>.  There are two ways for declaring a scalar parameter: <code class="command"><var class="command">param</var></code> and <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">param</var><code class="command"><span options=")-">{c )-}</span></code>, where <var class="command">param</var> and <var class="command">eqname</var> are valid Stata names. </p>
<p class="std">The specification of a matrix parameter is similar, but you must use the <code class="command">matrix</code> suboptions:  <code class="command"><span options="-(">{c -(}</span></code><var class="command">param</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code><code class="command"><span options=")-">{c )-}</span></code> and <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">param</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code><code class="command"><span options=")-">{c )-}</span></code>.  The most common application of matrix model parameters is for specifying the variance-covariance matrix of a multivariate normal distribution. </p>
<p class="std">All matrices are assumed to be symmetric and only the elements in the lower diagonal are reported in the output.  Only a few multivariate prior distributions are available for matrix parameters: <code class="command">wishart()</code>, <code class="command">iwishart()</code>, and <code class="command">jeffreys()</code>.  In addition to being symmetric, these distributions require that the matrices be positive definite. </p>
<p class="std">It is your responsibility to declare all parameters of your model, except regression coefficients in linear models.  For a linear model, <code class="command">bayesmh</code> automatically creates a regression coefficient with the name <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command">:</code><var class="command">indepvar</var><code class="command"><span options=")-">{c )-}</span></code> for each independent variable <var class="command">indepvar</var> in the model and, if <code class="command">noconstant</code> is not specified, an intercept parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command"><span options=")-">{c )-}</span></code>. In the presence of factor variables, <code class="command">bayesmh</code> will create a parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command">:</code><var class="command">level</var><code class="command"><span options=")-">{c )-}</span></code> for each level indicator <var class="command">level</var> and a parameter <code class="command"><span options="-(">{c -(}</span></code><var class="command">depvar</var><code class="command">:</code><var class="command">inter</var><code class="command"><span options=")-">{c )-}</span></code> for each interaction indicator <var class="command">inter</var>; see <a class="command" href="http://www.stata.com/help.cgi?fvvarlists"><b>fvvarlists</b></a>. (It is still your responsibility, however, to specify prior distributions for the regression parameters.) </p>
<p class="std">For example, </p>
<p class="hang3"><code class="command">. bayesmh y x,</code> ... </p>
<p class="std">will automatically have two regression parameters: <code class="command"><span>{y None:x}</span></code> and <code class="command"><span>{y None}</span></code>, whereas </p>
<p class="hang3"><code class="command">. bayesmh y x, noconstant</code> ... </p>
<p class="std">will have only one: <code class="command"><span>{y None:x}</span></code>. </p>
<p class="std">For a univariate normal linear regression, we may want to additionally declare the scalar variance parameter by </p>
<p class="hang3"><code class="command">. bayesmh y x, likelihood(normal(<span>{sig2 None}</span>))</code> ... </p>
<p class="std">We can label the variance parameter, as follows: </p>
<p class="hang3"><code class="command">. bayesmh y x, likelihood(normal(<span options="-(">{c -(}</span>var:sig2<span options=")-">{c )-}</span>))</code> ... </p>
<p class="std">We can declare a hyperparameter for <code class="command"><span>{sig2 None}</span></code> using </p>
<p class="hang3"><code class="command">. bayesmh y x, likelihood(normal(<span>{sig2 None}</span>)) prior(<span>{sig2 None}</span>, igamma(<span>{df None}</span>,2))</code> ... </p>
<p class="std">where the hyperparameter <code class="command"><span>{df None}</span></code> is declared in the inverse-gamma prior distribution for <code class="command"><span>{sig2 None}</span></code>. </p>
<p class="std">For a multivariate normal linear regression, in addition to four regression parameters declared automatically by <code class="command">bayesmh</code>: <code class="command"><span>{y1 None:x}</span></code>, <code class="command"><span>{y1 None}</span></code>, <code class="command"><span>{y2 None:x}</span></code>, and <code class="command"><span>{y2 None}</span></code>, we may also declare a parameter for the variance-covariance matrix: </p>
<p class="hang3">{cmd:. bayesmh y1 y2 = x, likelihood(mvnormal({Sigma, matrix}))} ... </p>
<p class="std">or abbreviate <code class="command">matrix</code> to <code class="command">m</code> for short: </p>
<p class="hang3">{cmd:. bayesmh y1 y2 = x, likelihood(mvnormal({Sigma, m}))} ... </p>
<h2 margin_bottom="1" id="refer">Referring to model parameters</h2>
<p class="std">After a model parameter is declared, we may need to refer to it in our further model specification.  We will definitely need to refer to it when we specify its prior distribution.  We may also need to use it as an argument in the prior distributions of other parameters or need to specify it in the <code class="command">block()</code> option for blocking of model parameters; see <a href="http://www.stata.com/manuals14/bayesbayesmhremarksandexamplesimprovingefficiencyofthemhalgorithm---blockingofparameters.pdf">BAYES bayesmhRemarksandexamplesImprovingefficiencyoftheMHalgorithm---blockingofparameters<var class="command">Improving efficiency of the MH algorithm---blocking of parameters</var></a> in <b>[BAYES] bayesmh</b>. </p>
<p class="std">To refer to one parameter, we simply use its definition: <code class="command"><span options="-(">{c -(}</span></code><var class="command">param</var><code class="command"><span options=")-">{c )-}</span></code>, <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">param</var><code class="command"><span options=")-">{c )-}</span></code>, <code class="command"><span options="-(">{c -(}</span></code><var class="command">param</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code><code class="command"><span options=")-">{c )-}</span></code>, or <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">param</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code><code class="command"><span options=")-">{c )-}</span></code>. There are several ways in which you can refer to multiple parameters.  You can refer to multiple model parameters in the parameter specification <var class="command">paramref</var> of the <code options="prior(paramref, ...)" class="command">prior(<var>paramref</var>,<var> ...</var>)</code> option, of the <code options="block(paramref, ...)" class="command">block(<var>paramref</var>,<var> ...</var>)</code> option, or of the <code options="initial(paramref #)" class="command">initial(<var>paramref #</var>)</code> option. </p>
<p class="std">The most straightforward way to refer to multiple scalar model parameters is to simply list them individually, as follows: </p>
<p class="hang3"><code class="command"><span>{param1 None}</span> <span>{param2 None}</span></code> ... </p>
<p class="std">but there are shortcuts. </p>
<p class="std">For example, the alternative to the above is </p>
<p class="hang3"><code class="command"><span options="param2">{param1 param2}</span></code> ... </p>
<p class="std">where we simply list the names of all parameters inside one set of curly braces. </p>
<p class="std">If parameters have the same equation name, you can refer to all of the parameters with that equation name as follows.  Suppose that we have three parameters with the same equation name <code class="command">eqname</code>, then the specification </p>
<p class="hang3"><code class="command"><span>{eqname None:param1}</span> <span>{eqname None:param2}</span> <span>{eqname None:param3}</span></code> </p>
<p class="std">is the same as the specification </p>
<p class="hang3"><code class="command"><span>{eqname None}</span></code> </p>
<p class="std">or the specification </p>
<p class="hang3"><code class="command"><span>{eqname None:param1 param2 param3}</span></code> </p>
<p class="std">The above specification is useful if we want to refer to a subset of parameters with the same equation name. For example, in the above, if we wanted to refer to only <code class="command">param1</code> and <code class="command">param2</code>, we could type </p>
<p class="hang3"><code class="command"><span>{eqname None:param1 param2}</span></code> </p>
<p class="std">If a factor variable is used in the specification of the regression function, you can use the same factor-variable specification within <var class="command">paramref</var> to refer to the coefficients associated with the levels of that factor variable; see <a class="command" href="http://www.stata.com/help.cgi?fvvarlists"><b>fvvarlists</b></a>. </p>
<p class="std">For example, factor variables are useful for constructing multilevel Bayesian models.  Suppose that variable <code class="command">id</code> defines the second level of hierarchy in a two-level random-effects model.  We can fit a Bayesian random-intercept model as follows. </p>
<p class="hang3"><code class="command">. bayesmh y x i.id, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> <code class="command">prior(<span>{y None:i.id}</span>, normal(0,<span>{tau None}</span>))</code> ... </p>
<p class="std">Here we used <code class="command"><span>{y None:i.id}</span></code> in the prior specification to refer to all levels of <code class="command">id</code>. </p>
<p class="std">Similarly, we can add a random coefficient for a continuous covariate <code class="command">x</code> by typing </p>
<p class="hang3"><code class="command">. bayesmh y c.x##i.id, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> <code class="command">prior(<span>{y None:i.id}</span>, normal(0,<span>{tau1 None}</span>))</code> <code class="command">prior(<span>{y None:c.x#i.id}</span>, normal(0,<span>{tau2 None}</span>))</code> ... </p>
<p class="std">You can mix and match all of the specifications above in one parameter specification, <var class="command">paramref</var>. </p>
<p class="std">To refer to multiple matrix model parameters, you can use <code class="command"><span options="-(">{c -(}</span></code><var class="command">paramlist</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code>{cmd:<span options=")-">{c )-}</span> to refer to matrix parameters with names <var class="command">paramlist</var> and <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">paramlist</var><code class="command">,</code> <code options="m" class="command"><u>m</u>atrix</code><code class="command"><span options=")-">{c )-}</span></code> to refer to matrix parameters with names in <var class="command">paramlist</var> and with equation name <var class="command">eqname</var>. </p>
<p class="std">For example, the specification </p>
<p class="hang3"><code class="command"><span>{eqname None:Sigma1,m}</span></code> <code class="command"><span>{eqname None:Sigma2,m}</span></code> {cmd:{Sigma3,m}}      {cmd:{Sigma4,m}} </p>
<p class="std">is the same as the specification </p>
<p class="hang3"><code class="command"><span>{eqname None:Sigma1 Sigma2,m}</span></code> <code class="command"><span options="Sigma4,m">{Sigma3 Sigma4,m}</span></code> </p>
<p class="std">You cannot refer to both scalar and matrix parameters in one <var class="command">paramref</var> specification. </p>
<p class="std">For referring to model parameters in postestimation commands, see <a href="http://www.stata.com/manuals14/bayesbayesmhpostestimationremarksandexamplesdifferentwaysofspecifyingmodelparameters.pdf">BAYES bayesmhpostestimationRemarksandexamplesDifferentwaysofspecifyingmodelparameters<var class="command">Different ways of specifying model parameters</var></a> in <b>[BAYES] bayesmh postestimation</b>. </p>
<h2 margin_bottom="1" id="subexp">Substitutable expressions</h2>
<p class="std">You may use substitutable expressions in <code class="command">bayesmh</code> to define nonlinear expressions <var class="command">subexpr</var>, arguments of outcome distributions in option <code class="command">likelihood()</code>, observation-level log likelihood in option <code class="command">llf()</code>, arguments of prior distributions in option <code class="command">prior()</code>, and generic prior distributions in <code class="command">prior()</code>'s suboptions <code class="command">density()</code> and <code class="command">logdensity()</code>.  Substitutable expressions are just like any other mathematical expression in Stata, except that they may include model parameters. </p>
<p class="std">To specify a substitutable expression in your <code class="command">bayesmh</code> model, you must comply with the following rules: </p>
<p class="4-7-2-0">1. Model parameters are bound in braces: <code class="command"><span>{mu None}</span></code>, <code class="command"><span options="-(">{c -(}</span>var:sigma2<span options=")-">{c )-}</span></code>, {cmd:{Sigma, matrix}}, and <code class="command"><span>{Cov None:Sigma, matrix}</span></code>. </p>
<p class="4-7-2-0">2. Linear combinations can be specified using the notation <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">varlist</var><code class="command"><span options=")-">{c )-}</span></code>. For example, </p>
<p class="7-7-2-0"><code class="command"><span options="-(">{c -(}</span></code><code class="command">xb:mpg price weight<span options=")-">{c )-}</span></code> is equivalent to </p>
<p class="hang3"><code class="command"><span>{xb_mpg None}</span>*mpg</code> <code class="command">+</code> <code class="command"><span>{xb_price None}</span>*price</code> + <code class="command"><span>{xb_weight None}</span>*weight</code> </p>
<p class="4-7-2-0">3. There is a small caveat with using the <code class="command"><span options="-(">{c -(}</span></code><var class="command">eqname</var><code class="command">:</code><var class="command">name</var><code class="command"><span options=")-">{c )-}</span></code> specification 2 	 when <var class="command">name</var> corresponds to both one of the variables in the 	 dataset and a parameter in the model.  The linear-combination 	 specification takes precedence in this case.  For example, <code class="command"><span>{eq None:var}</span></code> will be expanded to <code class="command"><span>{eq_var None}</span>*var</code>, where <code class="command">var</code> is the variable in a dataset and <code class="command">eq_var</code> is the 	 coefficient corresponding to this variable.  To refer directly to the 	 coefficient, you must use <code class="command"><span>{eq_var None}</span></code>. </p>
<p class="4-7-2-0">4. Initial values are given by including an equal sign and the initial          value inside the braces, for example, {cmd:{b1=1.267}}, 	 {cmd:{gamma=3}}, etc.  If you do not specify an initial value, that 	 parameter is initialized to one for positive scalar parameters and to 	 zero for other scalar parameters, or it is initialized to its MLE, 	 if available.  The <code class="command">initial()</code> option overrides initial values 	 provided in substitutable expressions.  Initial values for matrices 	 must be specified in the <code class="command">initial()</code> option. By default, matrix 	 parameters are initialized with identity matrices. </p>
<h2 margin_bottom="1" id="examples">Examples</h2>    <hr>
<p class="std">Setup</p>
<pre><code class="language-stata">webuse oxygen</code></pre>
<p class="std">Bayesian normal linear regression with noninformative priors</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh change age group, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> </pre>
<p class="std">Bayesian normal linear regression with normal and inverse-gamma priors</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh change age group, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> </pre>
<p class="std">Bayesian normal linear regression with multivariate Zellners g-prior</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh change age group, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> </pre>
<p class="std">Update parameter <code class="command"><span options="-(">{c -(}</span>var<span options=")-">{c )-}</span></code> separately from other model coefficients</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh change age group, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> </pre>
<p class="std">Use Gibbs sampling for parameter <code class="command"><span options="-(">{c -(}</span>var<span options=")-">{c )-}</span></code> and display the summary about blocks</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh change age group, likelihood(normal(<span options="-(">{c -(}</span>var<span options=")-">{c )-}</span>))</code> </pre>
<p class="std">Bayesian logistic regression model with a noninformative prior</p>
<pre><code class="language-stata">webuse hearthungary	</code>
<code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh disease restecg isfbs age male, likelihood(logit)</code> </pre>
<p class="std">Bayesian ordered probit model including hyperparameter <code class="command"><span>{lambda None}</span></code></p>
<pre><code class="language-stata">webuse fullauto</code>
<code class="language-stata">replace length = length/10</code>
<code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh rep77 foreign length mpg, likelihood(oprobit)</code> </pre>
    <hr>
<p class="std">Setup</p>
<pre><code class="language-stata">sysuse auto, clear</code>
<code class="language-stata">replace weight = weight/1000</code>
<code class="language-stata">replace length = length/100</code>
<code class="language-stata">replace mpg = mpg/10</code></pre>
<p class="std">Bayesian multivariate normal model including matrix parameter <code class="command"><span>{Sigma None}</span></code> for the covariance matrix</p>
<pre><code class="language-stata">set seed 14</code></pre>
<p class="hang2">{cmd:. bayesmh (mpg) (weight) (length), likelihood(mvnormal({Sigma,m}))} <code class="command">	prior(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>, normal(0,100))</code> 	{cmd:	prior({Sigma,m}, iwishart(3,100,I(3)))} <code class="command">	block(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>)</code> 	{cmd:	block({Sigma,m}) dots}{p_end} </p>
<p class="std">Request additional burn-in and more frequent adaptation</p>
<pre><code class="language-stata">set seed 14</code></pre>
<p class="hang2">{cmd:. bayesmh (mpg) (weight) (length), likelihood(mvnormal({Sigma,m}))} <code class="command">prior(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>, normal(0,100))</code> 	{cmd:prior({Sigma,m}, iwishart(3,100,I(3)))} <code class="command">block(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>)</code> 	{cmd:block({Sigma,m}) dots} <code class="command">burnin(5000) adaptation(every(50))</code></p>
<p class="std">Request Gibbs sampling for covariance matrix <code class="command"><span>{Sigma None}</span></code></p>
<pre><code class="language-stata">set seed 14</code></pre>
<p class="hang2">{cmd:. bayesmh (mpg) (weight) (length), likelihood(mvnormal({Sigma,m}))} <code class="command">prior(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>, normal(0,100))</code> 	{cmd:prior({Sigma,m}, iwishart(3,100,I(3)))} <code class="command">block(<span>{mpg None:_cons}</span> <span class="command">[<var><a href="http://www.stata.com/help.cgi?weight">weight</a></var>]</span> <span>{length None:_cons}</span>)</code> 	{cmd:block({Sigma,m}, gibbs) dots}{p_end} </p>    <hr>
<p class="std">Setup</p>
<pre><code class="language-stata">webuse pig, clear</code></pre>
<p class="std">Bayesian linear random-intercept model</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">fvset base none id</code>
<code class="language-stata">bayesmh weight week i.id, likelihood(normal(<span options="-(">{c -(}</span>var_0<span options=")-">{c )-}</span>)) noconstant</code> </pre>
<p class="std">Bayesian linear random-intercept model using the <code class="command">reffects()</code> option</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh weight week, reffects(id) likelihood(normal(<span options="-(">{c -(}</span>var_0<span options=")-">{c )-}</span>)) noconstant</code> </pre>
    <hr>
<p class="std">Setup</p>
<pre><code class="language-stata">webuse coal</code></pre>
<p class="std">Analysis of a change point problem with target MCMC sample size of 20,000</p>
<pre><code class="language-stata">set seed 14</code>
<code class="language-stata">bayesmh count = (<span>{mu1 None}</span>*sign(year&lt;<span>{cp None}</span>)+<span>{mu2 None}</span>*sign(year&gt;=<span>{cp None}</span>)),</code> </pre>
    <hr margin_bottom="2">
<h2 margin_bottom="1" id="results">Stored results</h2>
<p class="std"><code class="command">bayesmh</code> stores the following in <code class="command">e()</code>: </p>
<table class="syntab">
<tbody>
<tr class="section"><td options="5 15 17 2" colspan="3"> Scalars</td></tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(N)</code></td>
<td>number of observations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(k)</code></td>
<td>number of parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(k_sc)</code></td>
<td>number of scalar parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(k_mat)</code></td>
<td>number of matrix parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(n_eq)</code></td>
<td>number of equations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(mcmcsize)</code></td>
<td>MCMC sample size</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(burnin)</code></td>
<td>number of burn-in iterations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(mcmciter)</code></td>
<td>total number of MCMC iterations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(thinning)</code></td>
<td>thinning interval</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(arate)</code></td>
<td>overall AR</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(eff_min)</code></td>
<td>minimum efficiency</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(eff_avg)</code></td>
<td>average efficiency</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(eff_max)</code></td>
<td>maximum efficiency</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(clevel)</code></td>
<td>credible interval level</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(hpd)</code></td>
<td>
<code class="command">1</code> if <code class="command">hpd</code> is specified; <code class="command">0</code> otherwise</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(batch)</code></td>
<td>batch length for batch-mean calculations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(corrlag)</code></td>
<td>maximum autocorrelation lag</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(corrtol)</code></td>
<td>autocorrelation tolerance</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(dic)</code></td>
<td>deviation information criterion</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(lml_lm)</code></td>
<td>log marginal-likelihood using Laplace-Metropolis method</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(scale)</code></td>
<td>initial multiplier for scale factor; <code class="command">scale()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_gibbs)</code>
</td>
<td>
<code class="command">1</code> if Gibbs sampling is used in <var class="command">#</var>th block; <code class="command">0</code> otherwise</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_reffects)</code>
</td>
<td>
<code class="command">1</code> if the parameters in <var class="command">#</var>th block are random effects; <code class="command">0</code> otherwise</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_scale)</code>
</td>
<td>
<var class="command">#</var>th block initial multiplier for scale factor</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_tarate)</code>
</td>
<td>
<var class="command">#</var>th block target adaptation rate</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_arate_last)</code>
</td>
<td>
<var class="command">#</var>th block AR from the last adaptive iteration</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_tolerance)</code>
</td>
<td>
<var class="command">#</var>th block adaptation tolerance</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_every)</code></td>
<td>adaptation iterations <code class="command">adaptation(every())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_maxiter)</code></td>
<td>maximum number of adaptive iterations <code class="command">adaptation(maxiter())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_miniter)</code></td>
<td>minimum number of adaptive iterations <code class="command">adaptation(miniter())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_alpha)</code></td>
<td>adaptation parameter <code class="command">adaptation(alpha())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_beta)</code></td>
<td>adaptation parameter <code class="command">adaptation(beta())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_gamma)</code></td>
<td>adaptation parameter <code class="command">adaptation(gamma())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(adapt_tolerance)</code></td>
<td>adaptation tolerance <code class="command">adaptation(tolerance())</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(repeat)</code></td>
<td>number of attempts used to find feasible initial values</td>
</tr>
</tbody>                                    </table>
<table class="syntab">
<tbody>
<tr class="section"><td options="5 15 17 2" colspan="3"> Macros</td></tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(cmd)</code></td>
<td><code class="command">bayesmh</code></td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(cmdline)</code></td>
<td>command as typed</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(method)</code></td>
<td>sampling method</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(depvars)</code></td>
<td>names of dependent variables</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(eqnames)</code></td>
<td>names of equations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(likelihood)</code></td>
<td>likelihood distribution (one equation)</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(likelihood</code><var class="command">#</var><code class="command">)</code>
</td>
<td>likelihood distribution for #th equation</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(prior)</code></td>
<td>prior distribution</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(prior</code><var class="command">#</var><code class="command">)</code>
</td>
<td>prior distribution, if more than one <code class="command">prior()</code> is specified</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(priorparams)</code></td>
<td>parameter specification in <code class="command">prior()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(priorparams</code><var class="command">#</var><code class="command">)</code>
</td>
<td>parameter specification from #th <code class="command">prior()</code>, if more than one <code class="command">prior()</code> is specified</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(parnames)</code></td>
<td>names of model parameters except <code class="command">exclude()</code>
</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(postvars)</code></td>
<td>variable names corresponding to model parameters in <code class="command">e(parnames)</code> </td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(subexpr)</code></td>
<td>substitutable expression</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(subexpr</code><var class="command">#</var><code class="command">)</code>
</td>
<td>substitutable expression, if more than one</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(wtype)</code></td>
<td>weight type (one equation)</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(wtype</code><var class="command">#</var><code class="command">)</code>
</td>
<td>weight type for #th equation</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(wexp)</code></td>
<td>weight expression (one equation)</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(wexp</code><var class="command">#</var><code class="command">)</code>
</td>
<td>weight expression for #th equation</td>
</tr>
<tr>
<td class="normal"></td>
<td>
<code class="command">e(block</code><var class="command">#</var><code class="command">_names)</code>
</td>
<td>parameter names from #th block</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(exclude)</code></td>
<td>names of excluded parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(filename)</code></td>
<td>name of the file with simulation results</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(scparams)</code></td>
<td>scalar model parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(matparams)</code></td>
<td>matrix model parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(pareqmap)</code></td>
<td>model parameters in display order</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(title)</code></td>
<td>title in estimation output</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(rngstate)</code></td>
<td>random-number state at the time of simulation</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(search)</code></td>
<td>
<code class="command">on</code>, <code class="command">repeat()</code>, or <code class="command">off</code>
</td>
</tr>
</tbody>                             </table>
<table class="syntab">
<tbody>
<tr class="section"><td options="5 15 17 2" colspan="3"> Matrices</td></tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(mean)</code></td>
<td>posterior means</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(sd)</code></td>
<td>posterior standard deviations</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(mcse)</code></td>
<td>MCSE</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(median)</code></td>
<td>posterior medians</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(cri)</code></td>
<td>credible intervals</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(Cov)</code></td>
<td>variance-covariance matrix of parameters</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(ess)</code></td>
<td>effective sample sizes</td>
</tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(init)</code></td>
<td>initial values vector</td>
</tr>
</tbody>         </table>
<table class="syntab">
<tbody>
<tr class="section"><td options="5 15 17 2" colspan="3"> Functions</td></tr>
<tr>
<td class="normal"></td>
<td><code class="command">e(sample)</code></td>
<td>mark estimation sample</td>
</tr>
</tbody>  </table>
</div></body>
</html>
